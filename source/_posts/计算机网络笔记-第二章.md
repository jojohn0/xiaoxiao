---
title: 计算机网络笔记-第二章
date: 2021-01-25 16:53:49
tag: 计算机网络
categories: 计算机网络
description: 本章节主要介绍物理层相关知识
# cover: https://s3.ax1x.com/2021/02/11/yBF3k9.jpg
---
## 物理层基本概念
 物理层解决如何在连接各种计算机的传输媒体上传输数据比特流，而不是指具体的传输媒体。
<!--more-->

物理层主要任务：确定与传输媒体**接口**有关的一些特性
1. 机械特性：定义物理连接的特性，规定物理连接时所采用的规格，接口形状、**引线数目**、**引脚数量**和排列情况
2. 电气特性：规定传输二进制位时，线路上信号的**电压范围**、阻抗匹配、传输**速率**和**距离**限制等
3. 功能特性：指明某条线上出现的**某一电平表示何种意义**，接口部件的信号线的用途
4. 规程特性 (过程特性)：定义各条物理线路的工作**规程和时序**关系

## 数据通信基础知识
### 数据通信相关术语
通信的目的是传送信息。
* **数据**：传送信息的实体，通常是有意义的符号序列
* **信号**：数据的电气/电磁的表现，是数据在传输过程中的**存在形式**
  * 数字信号：代表消息的参数取值是离散的
  * 模拟信号：代表消息的参数取值是连续的
* **信源**：产生和发送数据的源头
* **信宿**：接受数据的终点
* **信道**：信号的传输媒介。一般用来表示向某一个方向传送信息的介质。因此一条通信线路往往包含一条发送信道和一条接受信道
* 信道可通过**传输信号**分为 *模拟信道* 和 *数字信道*，还可通过**传输介质**分为 *无线信道* 和 *有线信道* 

### 三种通信方式
1. 单工通信：只有一个方向的通信而没有反方向的交互，仅需要**一条**信道
2. 半双工通信：通信的双方都可以发送和接收信息，但任何一方都不能同时发送和接收，需要**两条**信道
3. 全双工通信：通信双方可以同时发送和接收信息，也需要**两条**信道

### 两种数据传输方式
1. 串行传输：速度**慢**，费用**低**，适合**远**距离
2. 并行传输：速度**快**，费用**高**，适合**近**距离 (常用于计算机内部数据传输)

## 码元、波特、速率、带宽
### 码元
**码元**是指一个**固定时长**的**信号波形**(数字脉冲)，代表不同离散数值的基本波形，是数字通信中数字信号的计量单位，这个时长类的信号称为k进制码元，而该时长称为码元宽度，当码元的离散状态有M个时，此时码元为M进制码元

**1码元可以携带多个比特的信息量**

### 速率
速率也叫数据率，是指数据的传输速率，表示单位时间内传输的数据量，可以用**码元传输速率**和**信息传输速率**来表示
1. **码元传输速率（1s传输多少个码元）**：别名码元速率、波形速率、调制速率、符号速率等，它表示单位时间内数字通信系统所传输的码元个数(也可以称为脉冲个数或信号变化的次数)，单位是**波特(Baud)**。1波特表示数字通信系统每秒传输一个码元。这里的码元可以是多进制的，也可以是二进制的，但码元速率与进制数无关。
2. **信息传输速率**：别名信息速率、比特率等，表示单位时间内数字通信系统传输的二进制码元个数(即比特数)，单位是比特/秒(b/s)

    **关系**：若一个码元携带n bit的信息量，则M Baud的码元传输速率所对应的信息传输速率为M x n bit/s

3. 带宽：表示在单位时间内从网络中的某一点到另一点所能通过的“**最高数据率**”，常用来表示网络的通信线路所能传输数据的能力，单位是b/s

## 奈氏准则和香农定理
### 失真
**影响失真的因素**：
1. 码元传输速率
2. 信号传输距离
3. 噪声干扰
4. 传输媒体质量

### 失真的一种现象-码间串扰
信道带宽：信道带宽是信道能通过的**最高频率和最低频率之差**

### 奈氏准则
奈氏准则：在理想低通(**无噪声，带宽受限**)条件下，为了避免码间串扰。极限码元传输速率为2W Baud，W是信道带宽，单位是Hz

理想低通信道下的极限数据传输率=2Wlog2(V) (b/s)
W是带宽 V是几种码元/码元的离散点平数目

1. 在任何信道中，**码元传输的速率是有上限的**。若传输速率超过此上限，就会出现严重的码间串扰问题。使接收端对码元的完全正确识别成为不可能
2. 信道的**频带越宽**(即能通过的信号高频分量越多)，就可以用更高的速率进行码元的有效传输
3. **奈氏准则给出了码元传输速率的限制，但并没有对信息传输速率给出限制**
4. 由于码元的传输速率受奈氏准则的制约，所以要提高数据的传输速率，就必须设法使每个码元能携带更多个比特的信息量，这就需要采用多元制的调剂方法

### 香农定理
**噪声**存在于所有的电子设备和通道信道中。由于噪声随机产生，它的瞬时值有时会很大，因此噪声会使接收端对码元的判决产生错误，但是噪声的影响是相对的，若信号较强，那么噪声影响相对较小。因此，**信噪比**就很重要

信噪比 = 信号的平均功率/噪声的平均功率，常记为S/N，并用分贝(dB)作为度量单位,即：

信噪比(dB) = 10log10(S/N)

香农定理：在带宽受限且噪声的信道中，为了不产生误差，信息的数据传输速率有上限值
信道的极限数据传输速率 = Wlog2(1+S/N) (b/s)
W是带宽，S/N是信噪比

1. 信道的**带宽**或信道中的**信噪比**越大，则信息的极限传输速率就越高
2. 对一定的传输带宽和一定的信噪比，信息传输速率的上限就确定了
3. 只要信息的传输速率低于信道的极限传输速率，就一定能找到某种方法来实现**无差错的传输**
4. 香农定理得出的为极限信息传输速率，实际信道能达到的传输速率要比它低不少

| 奈氏准则                                                          | 香农定理                              |
| ----------------------------------------------------------------- | ------------------------------------- |
| 带宽受限无噪声条件下，为了避免码间串扰，码元传输速率的上限2W Baud | 带宽受限有噪音条件下的信息传输速率    |
| 理想低通信道下的极限数据传输率 = 2Wlog2(V)                        | 信道的极限数据传输速率 = Wlog2(1+S/N) |
| 要想提高数据率，就要提高带宽/采用更好的编码技术                   | 要想提高数据率，就要提高带宽/信噪比   |

## 编码与调制
### 基带信号与宽带信号
**信道**：信号的传输媒介，一般用来表示向某一个方向传送信息的介质，因此一条通信线路往往包含一条发送信道和一条接受信道
**信道上传送的信号可分为**
  1. **基带信号**：将数字信号1和0直接用两种不同的电压表示，再送到数字信道上去传输(基带传输)。来自**信源**的信号，像计算机输出的代表各种文字或图像文件的数据信号都属于基带信号。基带信号就是发出的**直接表达了要传输的信息的信号**，比如我们说话的声波就是基带信号。
  2. **宽带信号**：将基带信号进行调制后形成的频分复用模拟信号，再传送到**模拟信道**上去传输(宽带传输)。把基带信号经过载波调制后，把信号的**频率范围搬移到较高的频段**以便再信道中传输(即仅在一段频率范围内能够通过信道)

* 在传输距离较近时，计算机网络采用**基带传输方式**(近距离衰减小，从而信号内容不易发生变化)
* 在传输距离较远时，计算机网络采用**宽带传输方式**(远距离衰减大，即使信号变化大也能最后过滤出来基带信号)

### 编码与调制
* 数据转为**数字信号**采用**编码**的手段
* 数据转为**模拟信号**采用**调制**的手段

* 数字数据通过数字发送器转为数字信号采用编码的手段
* 数字数据通过调制器转为模拟信号采用调制的手段
* 模拟数据通过PCM编码器转为数字信号采用编码的手段
* 模拟数据通过放大器调制器转为模拟信号采用调制的手段

### 数字数据编码为数据信号

![](https://img-blog.csdnimg.cn/20210125162912657.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Rhbnl1YW5h,size_16,color_FFFFFF,t_70#pic_center)


1. **非归零编码【NRZ】 （ 高 1 低 0 ）**：编码容易实现，但没有检错功能，且无法判断一个码元的开始和结束，以至于收发双方**难以保持同步**
2. 归零编码【RZ】：信号电平在一个码元之内都要恢复到零的这种编码方式
3. 反向不归零编码【NRZI】：信号电平翻转表示为0，信号电平不变表示1
4. **曼彻斯特编码**：将一个码元分成两个相等的间隔，前一个间隔为低电平后一个间隔为高电平表示码元：码元0则正好相反，也可以采用相反的规定，该编码的特点是在每一个码元的中间出现电平跳变，位中间的跳变既作时钟信号(可用于同步)，又作数据信号，但它所占用的频带宽度是原始的基带宽度的两倍。每一个码元都被调成两个电平，所以**数据传输速率只有调制速率的1/2**
5. **差分曼彻斯特编码 ( 同 1 异 0 )**：常用于局域网传输，其规则是：若码元位1，则前半个码元的电平与上一个码元的后半个码元的电平相同，若为0，则相反。该编码的特点是，在每个码元的中间，都有一次电平的跳转，可以实现自同步，且抗干扰性**强于**曼彻斯特编码
6. 4B/5B编码：比特流中插入额外的比特以打破一连串的0或1，就是用5个比特来编码4给比特的数据，之后再传给接收方，因此称为4B/5V，编码效率为80%

### 数字数据调制为模拟信号
数字数据调制技术再发送端将数字信号转换为模拟信号，而在接收端将模拟信号还原为数字信号，分别对应于调制解调器的调制和解调过程

![](https://img-blog.csdnimg.cn/20210125163139786.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Rhbnl1YW5h,size_16,color_FFFFFF,t_70#pic_center)

### 模拟数据编码为数字信号
计算机内部处理的是二进制数据，处理的都是**数字音频**，所以需要将模拟音频通过采样、量化转换成有线个数字表示的离散序列(即实现**音频数字化**)

最典型的例子就是对音频信号进行编码的脉码调制(**PCM**)，在计算机应用中，能够达到**最高保真水平**的就是PCM编码，被广泛用于素材保存以及音乐欣赏、CD、DVD以及我们常见的WAV文件中均有应用，它主要包括三步：抽样、量化、编码
1. **抽样**：对模拟信号周期性扫描，把时间上连续的信号变成时间上离散的信号。为了使所得的离散信号能无失真地代表被抽样的模拟数据，要使用采样定理进行采样：**采样频率>2*信号最高频率**
2. **量化**：把抽样取得的电平幅值按照一定的分级标度转化为对应的数字值，并取整数，这就把连续的电平幅值转换为离散的数字量
3. **编码**：把量化的结果转换为与之对应的二进制编码

### 模拟数据调制为模拟信号
为了实现传输的有效性，可能需要较高的频率。这种调制方式还可以使用频分复用技术，充分利用带宽资源。在电话机和本地交换机所传输的信号是采用模拟信号传输模拟数据的方式；模拟的声音数据是加载到模拟的载波信号中传输的

## 物理层传输介质
### 传输介质及分类
传输介质也称传输媒体/传输媒介，它就是数据传输系统中在发送设备和接收设备之间的**物理通路**。

**传输媒体并不是物理层**
传输媒体在物理层的下面，因为物理层是体系结构的第一层，因此有时称传输媒体为0层。在传输媒体中传输的是信号，但传输媒体并不知道所传输的信号代表什么意思。但物理层规定了电气特性，因此能够识别所传送的比特流。

传输介质分为**导向性传输介质**和**非导向性传输介质**
* 导向性传输介质：电磁波被导向沿着固体媒介(铜线/光纤)传播
* 非导向性传输介质：自由空间。介质可以是空气、真空、海水等

### 导向性传输介质--1.双绞线

![](https://img-blog.csdnimg.cn/20210125163230522.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Rhbnl1YW5h,size_16,color_FFFFFF,t_70#pic_center)


双绞线是古老、又最常用的传输介质，它由**两根**采用一定规则并排**绞合**的、相互绝缘的**铜导线**组成

**绞合可以减少对相邻导线的电磁干扰**

为了进一步提高抗电磁干扰能力，可在双绞线的外面加上一个由**金属丝**编织成的屏蔽层，这就是**屏蔽双绞线**(STP)，无屏蔽层的双绞线就称为**非屏蔽双绞线**(UTP)

双绞线价格**便宜**，模拟传输和数字传输都可以使用双绞线。距离太远时，对于**模拟传输**，要用**放大器**放大衰减的信号；对于**数字传输**，要用**中继器**将失真的信号整形

### 导向性传输介质--2.同轴电缆

![](https://img-blog.csdnimg.cn/20210125163314755.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Rhbnl1YW5h,size_16,color_FFFFFF,t_70#pic_center)


同轴电缆由**导体铜质芯线**、**绝缘层**、**网状编织屏蔽层**和**塑料外层**构成。按特性阻抗数值的不同，通常将同轴电缆分为两类：50Ω同轴电缆和75Ω同轴电缆。其中，50Ω同轴电缆主要用于传送基带数字信号，又称为**基带同轴电缆**，它在局域网中得到广泛应用；75Ω同轴电缆主要用于传送宽带信号，又称为**宽带同轴电缆**，它主要用于有线电视系统

**同轴电缆与双绞线的比较**

由于外导体屏蔽层的作用，同轴电缆抗干扰特性比双绞线好，被广泛用于传输较高速率的数据，其**传输距离**更远，但**价格**较双绞线贵

### 导向性传输介质--3.光纤

![](https://img-blog.csdnimg.cn/20210125163346146.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Rhbnl1YW5h,size_16,color_FFFFFF,t_70#pic_center)


光纤通信就是利用光导纤维(简称光纤)传递光脉冲来进行通信，有光脉冲表示1，无光脉冲表示0，而可见光的频率大约是10^8MHz，因此光纤通信系统的**带宽远远大于**目前其他各种传输媒体的带宽

光纤主要由**纤芯(实心的)**和**包层**，光波通过纤芯进行传导，包层较纤芯有较低的折射率。当光线从高折射率的介质射向低折射率的介质时，其折射角将大于入射角。因此，如果入射角足够大，就会出现**全反射**，即光线碰到包层时候就会折射回纤芯、这个过程不断重复，光也就沿着光纤传输下去

**单模光纤与多模光纤**

![在这里插入图片描述](https://img-blog.csdnimg.cn/2021012516253046.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Rhbnl1YW5h,size_16,color_FFFFFF,t_70#pic_center)


|          | 定义                               | 光源                   | 特点                   |
| -------- | ---------------------------------- | ---------------------- | ---------------------- |
| 单模光纤 | 一种在横向模式直接传输光信号的光纤 | 定向性很好的激光二极管 | 衰耗小，适合远距离传输 |
| 多模光纤 | 有多种传输光信号模式的光纤         | 发光二极管             | 易失真，适合近距离传输 |
**光纤的特点**
1. **传输损耗小**，中继距离长，对远距离传输特别经济
2. **抗雷电和电磁干扰性能好**
3. 无串音干扰，保密性好，也**不易被窃听或截取**
4. **体积小，重量轻**

### 非导向性传输介质
* 无线电波(信号向**所有方向**传播)：较强**穿透能力**，可传远距离，广泛用于通信领域(如手机通信)
* 微波(信号**固定方向**传播)：微博通信频率较高、频段范围广，因此数据率很高。
* 红外线、激光(信号**固定方向**传播)：把要传输的信号分别转换为各自的信号格式，即红外光信号和激光信号。再在空间中传播

## 物理层设备
### 中继器
**中继器的功能**：对信号进行**再生和还原**，对衰减的信号进行放大，保持与原数据相同，以增加信号传输的距离，延长网络长度

**中继器的两端**：

1. 两端的网络部分是网段，而不是子网，适用于完全相同的**两类**网络的互连，且两个网段速率要相同
2. 中继器只将任何电缆段上的数据发送到另一段电缆上，它仅作用于信号的电气部分，并不管数据中是否有错误或不适用于网段的数据
3. 两端可连相同媒体，也可连不同媒体
4. 中继器两端的网段一定要是同一个协议。

**5-4-3规则**：

网络标准中都对信号的延迟范围作了具体的规定，因而中继器只能在规定的范围内进行，否则会网络故障。

### 集线器(多口中继器)
**集线器的功能**：对信号进行再生**放大转发**，对衰减的信号进行放大，接着转发到其他所有处于工作状态的端口上，以增加信号传输的距离，延长网络的长度。不具备信号的定向传送能力，是一个共享式设备

**集线器不能分割冲突域**

**连在集线器上的工作主机平分带宽**
